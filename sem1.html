<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="project.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Acme&family=IBM+Plex+Serif:wght@500&family=Roboto:wght@300&family=Ubuntu:wght@500&family=Varela+Round&family=Young+Serif&display=swap" rel="stylesheet">
<style>
.bigc{
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 40vh;
  margin-top: 15px;
}
.inputFile{
  display: none;
}
label{
  height: 100px;
  width: 100px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 10px;
  font-size: 100px;
  color: #fff;
  background: linear-gradient(30deg,blue,red);
  cursor: pointer;
}
button{
  padding: 20px 25px;
  background-color: cornflowerblue;
  color: white;
  border: none;
  margin-bottom: 10px;
  font-size: 20px;
  font-weight: 700;
}
.bar2{
  height: 50px;
  width: 500px;
  background-color: #80808073;
  margin-bottom: 10px;
}
.progress{
height: 100%;
width: 5%;
background: linear-gradient(45deg,blue,red);
}
.img{
  margin: 10px;
  height: 200px;
  width: auto;
  object-fit: cover;
  display: none;
}
.img2{
  margin: 10px;
  height: 200px;
  width: auto;
  object-fit: cover;
  display:block;
}
.classuploaded{
  margin-left: 30px;
  display: flex;
 
 overflow-x: scroll;
 
  width: 93vw;
  border: 3px solid black;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
}
#fileopen{
  margin-left: 30px;
  margin-top: 16px;
  
}
#file12{
  display: none;
}

</style>
</head>

<body>
  <div class="bar">
    <ul class="list v-class">
        <li class="row"><a href="home.html">Home</a></li>
        <li class="row"><a href="About.html">About</a></li>
        <li class="row"><a href="services.html">Courses</a></li>
        <li class="row"><a href="doubts.html"> Doubts</a></li>
        <li class="row"><a href="#">Materials</a></li>
        
        <li class="row"><a href="contactus.html">Contact</a></li>
        <span id="btn2">Login</span>
        
    </ul>
    <div class="burger">
        <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div>
    </div>
</div>
   <h1> Upload Study Materials</h1><br>
   <div class="bigc">
    <input type="file"
     class="inputFile" 
     id="fileInp"
      onchange="getFile(event)" 
      accept="image/png,image/jpeg,image/pdfs"
      />
    <label for="fileInp">+</label>
    <span class="fileText"></span>
    <button onclick="uploadImage()">Upload Image</button>
    <div class="bar2">
      <div class="progress"></div>
    </div>
    <div class="uploadPercentage">0%</div>
  </div>
  <h2 style="text-align: center;">Uploaded Images and Files</h2><br>
  <div class="classuploaded">
    <div class="imgbtn">
      <img src="" class="img">
      <button class="fileopen" id="file12" style="margin-left: 12px;" onclick="open()">Open File</button>
  </div>
  <div class="preimg">
    
    <img src="img 3.jpeg" class="img2">
    <button class="fileopen" style="margin-left: 12px;" onclick="open()">Open File</button></div>
    <div class="preimg">
    <img src="img 4.jpg" class="img2">
    <button class="fileopen" onclick="open()">Open File</button>
  </div>
  <div class="preimg">
    <img src="img 2.jpeg" class="img2">
    <button class="fileopen" onclick="open()">Open File</button>
  </div>
  </div>
    
   
<br>
<br>
    <footer class="foot">
        <div class="box8">
        <button class="btn0">Class Notes</button>
        <button class="btn0">NCERT Solutions</button>
        <button class="btn0">reference Books</button>
        <button class="btn0">Study Resources</button>
        <button class="btn0">State Boards</button>
        <button class="btn0">Our channels</button>
        <button class="btn0">Online Test</button>
    </div>
    <h6 class="capabilities">
        We underrstand that every Student <br> has different needs and <br> Capabilities, which is why we <br>create such a wonderful and unique <br>cirriculum that is the best <br>fit for every 
        student.
    </h6>
    <h5 class="know">Know about Us</h5>
      <h6 class="topp"> We are the India's top Online ed-tech platform that provides affordable and<br> comprehensive learning experience to  engineering students of semester 1 to 8 and those preparing for GATE <br>and CAT exams. We also provide extensive solutions,Sample Papers <br> which makes us a one-stop solution for all resources.</h6>
      <h5 class="know">We Stand out because</h5>
      <h6 class="topp"> We are the India's top Online ed-tech platform that provides affordable and<br> comprehensive learning experience to  engineering students of semester 1 to 8 and those preparing for GATE <br>and CAT exams. We also provide extensive solutions,Sample Papers <br> which makes us a one-stop solution for all resources.</h6>
      <h5 class="know">Our key Focus Areas</h5>
      <h6 class="topp"> We are the India's top Online ed-tech platform that provides affordable and<br> comprehensive learning experience to  engineering students of semester 1 to 8 and those preparing for GATE <br>and CAT exams. We also provide extensive solutions,Sample Papers <br> which makes us a one-stop solution for all resources.</h6>
      <h5 class="know">What Makes Us Different</h5>
      <h6 class="topp"> We are the India's top Online ed-tech platform that provides affordable and<br> comprehensive learning experience to  engineering students of semester 1 to 8 and those preparing for GATE <br>and CAT exams. We also provide extensive solutions,Sample Papers <br> which makes us a one-stop solution for all resources.</h6>
      <br>
      <h6 class="privacy"><span id="conditions">Terms and Conditions</span> <span class="line1">|</span>  <span id="policies"> Privacy Policies</span>  <span class="line1" >|</span> <span id="about1"> About Us</span> <span class="line1" >|</span>   <span id="carrier">Careers</span><span  class="line1" >|</span> <span id="uscontact">Contact Us </span>  <span class="line1" >|</span> <span id="blogs1">Blogs</span> </h6>
      <br>
        <span>&copy;
            Copyright all rights reserved</span>
    </footer>
   
</script>
  <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase.js"></script>
  
  <script>
 // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDH7GlwQHOHtszIJpuLg9FRzqii9SfzsbI",
  authDomain: "authentication-b6d3f.firebaseapp.com",
  databaseURL: "https://authentication-b6d3f-default-rtdb.firebaseio.com",
  projectId: "authentication-b6d3f",
  storageBucket: "authentication-b6d3f.appspot.com",
  messagingSenderId: "474449466152",
  appId: "1:474449466152:web:b95a7eda8e0d1ef1d7361d",
  measurementId: "G-RG1DH7THWM"
};


   var filetext = document.querySelector(".fileText");
   var uploadPercentage = document.querySelector(".uploadPercentage")
   var progress = document.querySelector(".progress")
   var percentVal;
   var fileItem;
   var fileName;
   var img = document.querySelector(".img")
   var file12 = document.getElementById('file12')
   

   firebase.initializeApp(firebaseConfig);
   function getFile(e){
         fileItem = e.target.files[0];
         fileName = fileItem.name;
         filetext.innerHTML = fileName;
   }
   function uploadImage(){
    
      let storageRef = firebase.storage().ref("images/"+fileName);
  let uploadTask = storageRef.put(fileItem);
    
  

  uploadTask.on("state_changed",(snapshot)=>{
    console.log(snapshot);
    percentVal = Math.floor((snapshot.bytesTransferred/snapshot.totalBytes)*100)
    console.log(percentVal);
    uploadPercentage.innerHTML= percentVal + "%";
    progress.style.width= percentVal+"%";
  },(error)=>{
    console.log("error is",error);
  },()=>{
    uploadTask.snapshot.ref.getDownloadURL().then((url)=>{
      console.log("url",url);
      
     
        if(url!=""){
        img.setAttribute("src",url);
        img.style.display='block'
        file12.style.display='block'
       
       
      
      }
      
     
    })
  }
  
  )
   }

   let UserCreds = JSON.parse(sessionStorage.getItem("user-creds"));
        let UserInfo = JSON.parse(sessionStorage.getItem("user-info"));
        let button23 = document.getElementById("signout")
        let updatename = document.getElementById("btn2")

        let Checkcred = () => {
            if (!sessionStorage.getItem("user-creds"))
            window.location.href = 'login.html'
            else {
                updatename.innerHTML = `Hi, ${UserInfo.firstname}`
            }
        }
        window.addEventListener('load', Checkcred);
      
        
   </script>
  
</body>

</html>